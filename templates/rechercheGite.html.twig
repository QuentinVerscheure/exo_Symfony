{% extends "base.html.twig" %}

{% block title %} recherche de gite {% endblock %}
{% block body %}  

<h1>Rechercher un gite</h1>

    <div class="row">
    {{ form_start(form) }}
        <div class="col-4">
            {{ form_row(form.searchLocalisation)}}
        </div>
        <div class="col-4">
            {{ form_row(form.minsurface)}}
        </div>
        <div class="col-4">
            {{ form_row(form.minnumberOfBedroom)}}
        </div>
        <div class="col-4">
            {{ form_row(form.minnumberOfBed)}}
        </div>
        <div class="col-4">
            {{ form_row(form.isOkPets)}}
        </div>
        <div class="col-4">
            {{ form_row(form.submit)}}
        </div>
    {{ form_end(form) }}
    </div>
{{ dump(gites) }}
    <div class="row justify-content-around">
    {% for gite in gites %}

        <div class="card col-4" style="width: 18rem;">
            <img class="card-img-top" src='build/img/{{gite.picture}}.jpg' alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">{{gite.name}}</h5>
                <p class="card-text">{{gite.description|length > 50 ? gite.description|slice(0, 50) ~ '...' : gite.description}}.</p>
                <p class="card-text">localisation: {{gite.localisation}}.</p>
                <p class="card-text">surface: {{gite.surface}} mÂ².</p>
                <p class="card-text">Nbr de chambres: {{gite.numberOfBedroom}}.</p>
                <p class="card-text">Nbr de couchages: {{gite.numberOfBed}}.</p>
                <a href="{{path('gite_show',{id:gite.id})}}" class="btn btn-primary">Voir le gite</a>
            </div>
        </div>
    {% endfor %}
    </div>

{% endblock %}